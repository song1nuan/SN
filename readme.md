## 背景

油猴（Tamper Monkey）項目開發調試時，每次改完都要複製到油猴中，然後再切換到目標網頁刷新查看效果，非常低效。
這個個問題一直困擾著我，直到我發現了[這個項目](https://github.com/Eished/douyu-helper)。

在這裡表示對 Eished 的感謝，他的這個項目幾乎完美的達到了我的要求。
但我個人對於項目上的一些設置習慣不同，以及一些自動化的東西覺得還有改進空間。所以複製了他的項目，在這個基礎上做了一些改變，以便我以後的油猴項目，可以基於這個項目上實現。於是有了現在這個項目。
如果你喜歡我的設置，可以用它作為模板，當然也可以用原作者的項目做模板。

## 改變點

- 刪除了所有業務代碼，使其成為一個純的模板
- 代碼風格的一些變化,主要體現在`.prettierrc.js`中
- 讀取`package.json`中的一些屬性值，搬運到腳本的頭部信息中
- 其他一些項目調整

## 用模板生成項目後必須做的事

- 修改`package.json`中的各项值，因为自动生成文件会参照其内容。
- 修改`.gitignore`中的`!/dist/[your-app-name].user.js `，使其指向 build 的生成文件，否则上传到 github 后，不会自动编译，也就无法实现 TamperMonkey 的自动更新了。

## 開始使用

### 運行腳本的說明

- `npm start`:會起一個服務器，把腳本運行在自創的`./public/index.html`頁面中。一般用於在自己的網頁上調試腳本，不過鑑於大家一般都是直接在真實的第三方網頁上直接調試，所以運用的概率不是很大。(源項目的一種使用方式，所以沿用了下來)
- `npm run dev`:會編譯出兩個文件，結尾是`.header.js`和`.script.js`。`header`用於拷貝到Tamper Monkey中作爲引用的頭部。`script`是存在本地硬碟上的實體腳本。在調試前，需要打開Tamper Monkey的本地文件訪問權限，這樣才可以順利找到本地調試腳本。源代碼改動後，會自動編譯新成果，Tamper Monkey那邊的引用也會引到新文件的內容，實現同步更新。
- `npm run build`:會編譯出生產版本的成果物。可以直接上傳到商店。但這種方式是手動發佈，建議還是使用github的workflows功能自動編譯發佈。

